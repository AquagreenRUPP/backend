{"ast":null,"code":"import _regeneratorRuntime from \"D:/DSE_Folder/Year_3/Sem_2/Web_Agri_DJango/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/DSE_Folder/Year_3/Sem_2/Web_Agri_DJango/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"D:/DSE_Folder/Year_3/Sem_2/Web_Agri_DJango/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { mapActions } from 'vuex';\nexport default {\n  name: 'LoginView',\n  data: function data() {\n    return {\n      username: '',\n      password: '',\n      loading: false,\n      error: null\n    };\n  },\n  methods: _objectSpread(_objectSpread({}, mapActions(['loginUser'])), {}, {\n    login: function login() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _error$response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.loading = true;\n              _this.error = null;\n              _context.prev = 2;\n              _context.next = 5;\n              return _this.loginUser({\n                username: _this.username,\n                password: _this.password\n              });\n            case 5:\n              _this.$router.push('/');\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](2);\n              _this.error = ((_error$response = _context.t0.response) === null || _error$response === void 0 || (_error$response = _error$response.data) === null || _error$response === void 0 ? void 0 : _error$response.detail) || 'Login failed. Please check your credentials.';\n            case 11:\n              _context.prev = 11;\n              _this.loading = false;\n              return _context.finish(11);\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[2, 8, 11, 14]]);\n      }))();\n    }\n  })\n};","map":{"version":3,"names":["mapActions","name","data","username","password","loading","error","methods","_objectSpread","login","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_error$response","wrap","_callee$","_context","prev","next","loginUser","$router","push","t0","response","detail","finish","stop"],"sources":["D:\\DSE_Folder\\Year_3\\Sem_2\\Web_Agri_DJango\\frontend\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"card login-card\">\n      <div class=\"card-body\">\n        <h2 class=\"text-center mb-4\">\n          <span class=\"brand-name\">Aqua<span class=\"text-success\">Green</span></span>\n        </h2>\n        <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n        <form @submit.prevent=\"login\">\n          <div class=\"form-group mb-3\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              v-model=\"username\"\n              placeholder=\"Username\"\n              required\n            />\n          </div>\n          <div class=\"form-group mb-3\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              v-model=\"password\"\n              placeholder=\"Password\"\n              required\n            />\n          </div>\n          <button\n            type=\"submit\"\n            class=\"btn btn-success w-100 mt-3\"\n            :disabled=\"loading\"\n          >\n            <span v-if=\"loading\" class=\"spinner-border spinner-border-sm mr-2\"></span>\n            Login\n          </button>\n        </form>\n        <div class=\"mt-3 text-center\">\n          <p>Don't have an account? <router-link to=\"/register\" class=\"text-success\">Sign up</router-link></p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\n\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      username: '',\n      password: '',\n      loading: false,\n      error: null\n    };\n  },\n  methods: {\n    ...mapActions(['loginUser']),\n    async login() {\n      this.loading = true;\n      this.error = null;\n      \n      try {\n        await this.loginUser({\n          username: this.username,\n          password: this.password\n        });\n        this.$router.push('/');\n      } catch (error) {\n        this.error = error.response?.data?.detail || 'Login failed. Please check your credentials.';\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.login-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background-color: #f8f9fa;\n}\n\n.login-card {\n  width: 100%;\n  max-width: 400px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  border: none;\n  border-radius: 10px;\n}\n\n.brand-name {\n  font-size: 2rem;\n  font-weight: bold;\n}\n</style>\n"],"mappings":";;;;AA6CA,SAASA,UAAS,QAAS,MAAM;AAEjC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAAC,aAAA,CAAAA,aAAA,KACFR,UAAU,CAAC,CAAC,WAAW,CAAC,CAAC;IACtBS,KAAK,WAALA,KAAKA,CAAA,EAAG;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,eAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACZV,KAAI,CAACL,OAAM,GAAI,IAAI;cACnBK,KAAI,CAACJ,KAAI,GAAI,IAAI;cAAAY,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAGTV,KAAI,CAACW,SAAS,CAAC;gBACnBlB,QAAQ,EAAEO,KAAI,CAACP,QAAQ;gBACvBC,QAAQ,EAAEM,KAAI,CAACN;cACjB,CAAC,CAAC;YAAA;cACFM,KAAI,CAACY,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;cAAAL,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;cAEtBR,KAAI,CAACJ,KAAI,GAAI,EAAAS,eAAA,GAAAG,QAAA,CAAAM,EAAA,CAAMC,QAAQ,cAAAV,eAAA,gBAAAA,eAAA,GAAdA,eAAA,CAAgBb,IAAI,cAAAa,eAAA,uBAApBA,eAAA,CAAsBW,MAAK,KAAK,8CAA8C;YAAA;cAAAR,QAAA,CAAAC,IAAA;cAE3FT,KAAI,CAACL,OAAM,GAAI,KAAK;cAAA,OAAAa,QAAA,CAAAS,MAAA;YAAA;YAAA;cAAA,OAAAT,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA;IAExB;EAAA;AAEJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}